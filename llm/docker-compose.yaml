services:
  llm:
    container_name: rag-llm
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      OLLAMA_BASE_URL: ${OLLAMA_BASE_URL:-http://ollama:11434}
      OLLAMA_MODEL: ${OLLAMA_MODEL:-llama3:8b}
      RETRIEVER_URL: ${RETRIEVER_URL:-http://rag-retriever:8001}
      MOCK_LLM: ${MOCK_LLM:-0}
    env_file:
      - .env
    ports:
      - "8100:8100"
    networks:
      - milvus

networks:
  milvus:
    external: true
    name: milvus


